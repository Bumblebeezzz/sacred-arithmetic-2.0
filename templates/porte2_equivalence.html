{% extends "base.html" %}

{% block content %}
<div class="portal-page portal-2">
    <header class="portal-header">
        <div class="portal-symbol">
            <i class="fas fa-minus"></i>
            <span class="portal-number">2</span>
        </div>
        <p class="subtitle">L'Équivalence, principe d'égalité</p>
    </header>

    <div class="portal-content">
        <div class="wisdom-card">
            <h2>L'Enseignement de l'Équivalence</h2>
            <p>L'Équivalence représente le principe fondamental d'égalité et d'équilibre dans l'univers. C'est la reconnaissance que toute chose trouve son équivalent, son complément, son miroir. Ce principe établit que chaque force, chaque énergie, chaque manifestation trouve son pendant nécessaire.</p>
            
            <div class="principles">
                <h3>Principes de l'Équivalence</h3>
                <ul>
                    <li>Égalité des Forces</li>
                    <li>Réciprocité</li>
                    <li>Correspondance</li>
                    <li>Équilibre Dynamique</li>
                </ul>
            </div>
        </div>

        <div class="wisdom-card">
            <h2>La Ligne d'Équivalence</h2>
            <div class="sacred-symbol">
                <svg viewBox="0 0 100 20" class="line-symbol">
                    <line x1="10" y1="10" x2="90" y2="10" stroke="var(--gold)" stroke-width="2"/>
                </svg>
            </div>
            <p>La ligne horizontale symbolise l'équilibre parfait, où chaque point trouve son équivalent de l'autre côté. Elle représente l'égalité des forces et l'harmonie des contraires.</p>
        </div>

        <div class="wisdom-card">
            <h2>Méditation sur l'Équivalence</h2>
            <div class="meditation-section">
                <p>Contemplez l'équilibre parfait de l'univers, où chaque chose trouve son équivalent nécessaire.</p>
                <div class="meditation-timer">
                    <button id="startMeditation" class="start-meditation">Commencer la Méditation</button>
                    <div id="timer" class="timer-display">15:00</div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
function startMeditation() {
    const timer = document.getElementById('timer');
    const button = document.getElementById('startMeditation');
    let timeLeft = 15 * 60; // 15 minutes
    let interval;

    if (button.textContent === 'Arrêter') {
        clearInterval(interval);
        button.textContent = 'Commencer la Méditation';
        timer.textContent = '15:00';
        return;
    }

    button.textContent = 'Arrêter';
    
    interval = setInterval(() => {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        
        timer.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        
        if (timeLeft <= 0) {
            clearInterval(interval);
            button.textContent = 'Commencer la Méditation';
            // Jouer un son doux de cloche ici
        }
        
        timeLeft--;
    }, 1000);
}

document.getElementById('startMeditation').addEventListener('click', startMeditation);
</script>
{% endblock %} 