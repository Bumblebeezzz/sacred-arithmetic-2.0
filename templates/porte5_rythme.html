{% extends "base.html" %}

{% block title %}Porte 5 - Rythme{% endblock %}

{% block content %}
<div class="portal-page portal-5">
    <header class="portal-header">
        <h1>RYTHME</h1>
        <div class="portal-number">
            <span class="principle-text">PRINCIPE 5</span>
        </div>
        <p class="subtitle">Le Rythme, Le pouls de l'univers</p>
        <p class="principle-quote">« Tout s'écoule, tout entre et sort ; tout a ses marées ; toutes les choses montent et descendent ; la mesure du mouvement est le pendule. »</p>
    </header>

    <div class="portal-content">
        <div class="wisdom-card">
            <h2>L'Enseignement du Rythme</h2>
            <p>Le Cinq représente le rythme fondamental qui anime l'univers, le mouvement cyclique qui crée l'harmonie et l'équilibre. C'est le principe qui donne vie à toute chose à travers des cycles naturels.</p>
            
            <div class="principles">
                <h3>Principes du Rythme</h3>
                <ul>
                    <li>Cycles Naturels</li>
                    <li>Mouvement Harmonieux</li>
                    <li>Régularité Universelle</li>
                    <li>Équilibre Dynamique</li>
                </ul>
            </div>
        </div>

        <div class="wisdom-card">
            <h2>Le Pentagramme Rythmique</h2>
            <div class="sacred-symbol">
                <div class="pentagram"></div>
            </div>
            <p>Le pentagramme symbolise les cinq phases du cycle universel, créant un mouvement harmonieux et équilibré.</p>
        </div>

        <div class="wisdom-card">
            <h2>Méditation sur le Rythme</h2>
            <div class="meditation-section">
                <p>Explorez le rythme naturel qui anime votre être et l'univers.</p>
                <div class="meditation-timer">
                    <button id="startMeditation" class="start-meditation">Commencer la Méditation</button>
                    <div id="timer" class="timer-display">05:55</div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.quintessence-portal {
    background: linear-gradient(135deg, var(--portal-5), var(--color-black));
    padding: 2rem;
}

.pentagram-container {
    position: relative;
    width: 200px;
    height: 200px;
    margin: 2rem auto;
}

.pentagram {
    position: absolute;
    width: 100%;
    height: 100%;
    clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
    background: var(--color-gold);
    animation: rotate 20s linear infinite;
}

.pentagram-overlay {
    position: absolute;
    width: 100%;
    height: 100%;
    clip-path: polygon(50% 5%, 59% 35%, 95% 35%, 68% 54%, 77% 85%, 50% 67%, 23% 85%, 32% 54%, 5% 35%, 41% 35%);
    background: rgba(0, 0, 0, 0.7);
    animation: rotate 20s linear infinite reverse;
}

.cycles-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin: 2rem 0;
}

.cycle {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1rem;
    border: 1px solid var(--color-gold);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.cycle i {
    font-size: 2rem;
    color: var(--color-gold);
    margin-bottom: 0.5rem;
}

.cycle:hover {
    transform: scale(1.1);
    box-shadow: 0 0 20px var(--color-gold);
}

.rhythm-phases {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 1rem;
    margin: 2rem 0;
}

.phase {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1rem;
    border: 1px solid var(--color-gold);
    border-radius: 50%;
    width: 80px;
    height: 80px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.phase-symbol {
    font-size: 2rem;
    margin-bottom: 0.5rem;
}

.phase:hover {
    transform: scale(1.1) rotate(360deg);
    box-shadow: 0 0 20px var(--color-gold);
}

.meditation-levels {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin: 2rem 0;
}

.level {
    padding: 1rem;
    text-align: center;
    border: 1px solid var(--color-gold);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    background: rgba(0, 0, 0, 0.7);
}

.level:hover {
    transform: translateX(20px);
    background: rgba(255, 215, 0, 0.1);
}

#meditationTimer {
    font-size: 2rem;
    font-family: 'Cinzel Decorative', cursive;
    color: var(--color-gold);
    margin: 1rem 0;
    text-align: center;
}

#startMeditation {
    display: block;
    margin: 2rem auto;
    background: var(--color-gold);
    color: var(--color-black);
    border: none;
    padding: 1rem 2rem;
    border-radius: 30px;
    cursor: pointer;
    font-family: 'EB Garamond', serif;
    font-size: 1.1rem;
    transition: all 0.3s ease;
}

#startMeditation:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px var(--color-gold);
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}
</style>
{% endblock %}

{% block extra_js %}
<script>
function startMeditation() {
    const timer = document.getElementById('timer');
    const button = document.getElementById('startMeditation');
    let timeLeft = 5 * 60 + 55; // 5:55 minutes
    let interval;

    if (button.textContent === 'Arrêter') {
        clearInterval(interval);
        button.textContent = 'Commencer la Méditation';
        timer.textContent = '05:55';
        return;
    }

    button.textContent = 'Arrêter';
    
    interval = setInterval(() => {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        
        timer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        
        if (timeLeft <= 0) {
            clearInterval(interval);
            button.textContent = 'Commencer la Méditation';
        }
        
        timeLeft--;
    }, 1000);
}

document.getElementById('startMeditation').addEventListener('click', startMeditation);
</script>
{% endblock %} 