{% extends "base.html" %}

{% block title %}La Science des Cycles Numériques{% endblock %}

{% block content %}
<div class="container">
    <div class="hero">
        <h1>La Science des Cycles Numériques</h1>
        <p class="subtitle">Découvrez les secrets cachés dans les nombres</p>
    </div>

    <div class="portal-content">
        <section class="card introduction">
            <h2>Introduction aux Cycles Numériques</h2>
            <p>En arithmétique sacrée, chaque nombre raconte une histoire à travers sa réduction digitale. Cette science ancestrale révèle comment tous les nombres se réduisent naturellement en un cycle de 1 à 9, créant des motifs fascinants qui se répètent à l'infini.</p>
        </section>

        <section class="card">
            <h2>Le Mystère du Nombre 9</h2>
            <p>Le nombre 9 est la clé de voûte de l'arithmétique sacrée. Il représente la complétude et le retour à l'unité. Tout nombre multiplié par 9 se réduit à 9, créant un cycle parfait.</p>
            <div class="cycle-example">
                <h3>Exemples de Réduction Digitale :</h3>
                <div class="example-grid">
                    <div class="example">
                        <p>278 → 2+7+8 = 17 → 1+7 = 8</p>
                        <span class="explanation">Signification : Expression de l'infini</span>
                    </div>
                    <div class="example">
                        <p>365 → 3+6+5 = 14 → 1+4 = 5</p>
                        <span class="explanation">Signification : Nombre du changement</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="card">
            <h2>La Matrice 3-6-9 de Tesla</h2>
            <p>"Si vous connaissiez la magnificence des nombres 3, 6 et 9, vous auriez la clé de l'univers." - Nikola Tesla</p>
            <div class="tesla-grid">
                <div class="number-grid">
                    <div onclick="highlightNumber(1)" class="number-cell">
                        <span class="number">1</span>
                        <div class="portal-icon">
                            <svg viewBox="0 0 100 100" class="polygram">
                                <circle cx="50" cy="50" r="40" fill="none" stroke="currentColor" stroke-width="2"/>
                                <circle cx="50" cy="50" r="4" fill="currentColor"/>
                            </svg>
                        </div>
                        <span class="principle">CONSCIENCE</span>
                    </div>
                    <div onclick="highlightNumber(2)" class="number-cell">
                        <span class="number">2</span>
                        <div class="portal-icon">
                            <svg viewBox="0 0 100 100" class="polygram">
                                <circle cx="50" cy="50" r="40" fill="none" stroke="currentColor" stroke-width="2"/>
                                <line x1="20" y1="50" x2="80" y2="50" stroke="currentColor" stroke-width="2.5"/>
                            </svg>
                        </div>
                        <span class="principle">ÉQUIVALENCE</span>
                    </div>
                    <div onclick="highlightNumber(3)" class="number-cell special">
                        <span class="number">3</span>
                        <div class="portal-icon">
                            <svg viewBox="0 0 100 100" class="polygram">
                                <circle cx="50" cy="50" r="40" fill="none" stroke="currentColor" stroke-width="2"/>
                                <polygon points="50,20 80,70 20,70" fill="none" stroke="currentColor" stroke-width="2.5"/>
                            </svg>
                        </div>
                        <span class="principle">OSCILLATION</span>
                    </div>
                    <div onclick="highlightNumber(4)" class="number-cell">
                        <span class="number">4</span>
                        <div class="portal-icon">
                            <svg viewBox="0 0 100 100" class="polygram">
                                <circle cx="50" cy="50" r="40" fill="none" stroke="currentColor" stroke-width="2"/>
                                <rect x="25" y="25" width="50" height="50" fill="none" stroke="currentColor" stroke-width="2.5"/>
                            </svg>
                        </div>
                        <span class="principle">POLARITÉ</span>
                    </div>
                    <div onclick="highlightNumber(5)" class="number-cell">
                        <span class="number">5</span>
                        <div class="portal-icon">
                            <svg viewBox="0 0 100 100" class="polygram">
                                <circle cx="50" cy="50" r="40" fill="none" stroke="currentColor" stroke-width="2"/>
                                <path d="M50,15 L61.8,40.9 L94.3,40.9 L67.6,60.5 L79.4,85 L50,71.8 L20.6,85 L32.4,60.5 L5.7,40.9 L38.2,40.9 Z" fill="none" stroke="currentColor" stroke-width="2.5"/>
                            </svg>
                        </div>
                        <span class="principle">RYTHME</span>
                    </div>
                    <div onclick="highlightNumber(6)" class="number-cell special">
                        <span class="number">6</span>
                        <div class="portal-icon">
                            <svg viewBox="0 0 100 100" class="polygram">
                                <circle cx="50" cy="50" r="40" fill="none" stroke="currentColor" stroke-width="2"/>
                                <path d="M50,15 L85,67 L15,67 Z M50,85 L15,33 L85,33 Z" fill="none" stroke="currentColor" stroke-width="2.5"/>
                            </svg>
                        </div>
                        <span class="principle">CAUSALITÉ</span>
                    </div>
                    <div onclick="highlightNumber(7)" class="number-cell">
                        <span class="number">7</span>
                        <div class="portal-icon">
                            <svg viewBox="0 0 100 100" class="polygram">
                                <circle cx="50" cy="50" r="40" fill="none" stroke="currentColor" stroke-width="2"/>
                                <path d="M50,10 L73.5,20.5 L87,45 L80,72 L57,87 L43,87 L20,72 L13,45 L26.5,20.5 Z" fill="none" stroke="currentColor" stroke-width="2.5"/>
                            </svg>
                        </div>
                        <span class="principle">ORIENTATION</span>
                    </div>
                    <div onclick="highlightNumber(8)" class="number-cell">
                        <span class="number">8</span>
                        <div class="portal-icon">
                            <svg viewBox="0 0 100 100" class="polygram">
                                <circle cx="50" cy="50" r="40" fill="none" stroke="currentColor" stroke-width="2"/>
                                <rect x="30" y="30" width="40" height="40" fill="none" stroke="currentColor" stroke-width="2.5" transform="rotate(45, 50, 50)"/>
                                <rect x="30" y="30" width="40" height="40" fill="none" stroke="currentColor" stroke-width="2.5"/>
                            </svg>
                        </div>
                        <span class="principle">ÉQUILIBRE</span>
                    </div>
                    <div onclick="highlightNumber(9)" class="number-cell special">
                        <span class="number">9</span>
                        <div class="portal-icon">
                            <svg viewBox="0 0 100 100" class="polygram">
                                <circle cx="50" cy="50" r="40" fill="none" stroke="currentColor" stroke-width="2"/>
                                <path d="M50,10 L67,15 L80,30 L85,50 L80,70 L67,85 L50,90 L33,85 L20,70 L15,50 L20,30 L33,15 Z" fill="none" stroke="currentColor" stroke-width="2.5"/>
                            </svg>
                        </div>
                        <span class="principle">DIVIN</span>
                    </div>
                </div>
                <div id="number-info" class="number-info"></div>
            </div>
        </section>

        <section class="card">
            <h2>Explorateur de Cycles</h2>
            <p>Découvrez la signification cachée de n'importe quel nombre en calculant sa réduction digitale :</p>
            <div class="cycle-explorer">
                <div class="input-group">
                    <input type="number" id="cycle-input" class="cycle-input" placeholder="Entrez un nombre">
                    <button onclick="exploreCycle()" class="cycle-button">
                        <i class="fas fa-calculator"></i>
                        Calculer
                    </button>
                </div>
                <div id="cycle-result" class="cycle-result">
                    <div class="initial-message">
                        Les résultats s'afficheront ici
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.portal-content {
    max-width: 800px;
    margin: 0 auto;
}

.introduction {
    background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,0,0,0.1));
    border-width: 2px;
}

.cycle-example {
    background: rgba(255, 215, 0, 0.1);
    padding: 2rem;
    border-radius: 12px;
    margin: 2rem 0;
}

.example-grid {
    display: grid;
    gap: 1.5rem;
    margin-top: 1rem;
}

.example {
    background: rgba(0,0,0,0.3);
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
}

.example p {
    font-size: 1.3rem;
    color: var(--color-gold);
    margin-bottom: 0.5rem;
}

.example .explanation {
    font-size: 0.9rem;
    color: var(--color-pearl);
    font-style: italic;
}

.tesla-grid {
    text-align: center;
    padding: 2rem 0;
}

.number-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
    margin: 2rem auto;
    max-width: 400px;
}

.number-cell {
    background: rgba(255, 215, 0, 0.05);
    border: 2px solid var(--color-gold);
    border-radius: 12px;
    padding: 2rem 1rem;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    position: relative;
}

.number-cell .number {
    font-size: 2rem;
    font-family: 'Cinzel Decorative', cursive;
    color: var(--color-gold);
}

.portal-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-gold);
    transition: all 0.4s ease;
}

.portal-icon svg {
    width: 100%;
    height: 100%;
}

.principle {
    font-family: 'Cinzel Decorative', cursive;
    font-size: 0.8rem;
    color: var(--color-pearl);
    text-align: center;
    margin-top: 0.5rem;
    opacity: 0.8;
    transition: all 0.4s ease;
}

.number-cell:hover {
    transform: scale(1.05);
    background: rgba(255, 215, 0, 0.15);
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
}

.number-cell:hover .portal-icon {
    transform: rotate(360deg);
}

.number-cell:hover .principle {
    color: var(--color-gold);
    opacity: 1;
}

.special {
    border-color: var(--portal-1);
    background: rgba(255, 0, 0, 0.1);
}

.number-info {
    margin-top: 2rem;
    padding: 1.5rem;
    text-align: center;
    min-height: 80px;
    font-size: 1.2rem;
    background: rgba(255, 215, 0, 0.05);
    border-radius: 8px;
    transition: all 0.3s ease;
}

.highlighted {
    transform: scale(1.1);
    box-shadow: 0 0 25px var(--color-gold);
    background: rgba(255, 215, 0, 0.2) !important;
}

.input-group {
    display: flex;
    gap: 1rem;
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
}

.cycle-input {
    flex: 1;
}

.cycle-button i {
    margin-right: 0.5rem;
}

.initial-message {
    color: var(--color-pearl);
    opacity: 0.6;
    font-style: italic;
}
</style>
{% endblock %}

{% block extra_js %}
<script>
const numberDescriptions = {
    1: {
        title: "CONSCIENCE - Le Principe du Mentalisme",
        description: "Tout est Esprit, l'Univers est Mental. La réalité que nous percevons est une manifestation de la conscience universelle."
    },
    2: {
        title: "ÉQUIVALENCE - Le Principe de Correspondance",
        description: "Ce qui est en haut est comme ce qui est en bas. Les lois universelles se reflètent à toutes les échelles de l'existence."
    },
    3: {
        title: "OSCILLATION - Le Principe de Vibration",
        description: "Rien ne repose, tout est en mouvement, tout vibre. L'univers est en perpétuelle oscillation."
    },
    4: {
        title: "POLARITÉ - Le Principe de Polarité",
        description: "Tout est double, tout a ses pôles. Les opposés sont identiques en nature mais différents en degré."
    },
    5: {
        title: "RYTHME - Le Principe du Rythme",
        description: "Tout s'écoule, tout a ses marées. Le mouvement pendulaire se manifeste dans tout phénomène."
    },
    6: {
        title: "CAUSALITÉ - Le Principe de Cause et d'Effet",
        description: "Toute cause a son effet, tout effet a sa cause. Le hasard n'est que le nom donné à une loi non reconnue."
    },
    7: {
        title: "ORIENTATION - Le Principe de Genre",
        description: "Le genre est en tout, tout a ses principes masculin et féminin. La création nécessite ces deux aspects."
    },
    8: {
        title: "ÉQUILIBRE - Le Principe d'Harmonie",
        description: "L'équilibre est la clé de toute existence. La nature cherche toujours à rétablir l'harmonie."
    },
    9: {
        title: "DIVIN - Le Principe de l'Unité",
        description: "Tout est Un, tout est interconnecté. Le neuf représente la complétude et le retour à l'unité primordiale."
    }
};

function highlightNumber(number) {
    const infoDiv = document.getElementById('number-info');
    const info = numberDescriptions[number];
    
    infoDiv.innerHTML = `
        <h3>${info.title}</h3>
        <p>${info.description}</p>
    `;
    
    // Mettre en évidence la cellule sélectionnée
    document.querySelectorAll('.number-cell').forEach(cell => {
        cell.classList.remove('active');
    });
    document.querySelector(`.number-cell:nth-child(${number})`).classList.add('active');
}

function exploreCycle() {
    const input = document.getElementById('cycle-input').value;
    const result = document.getElementById('cycle-result');
    
    if (!input) {
        result.innerHTML = '<div class="error-message">Veuillez entrer un nombre</div>';
        return;
    }

    let number = input;
    let steps = [];
    let sum = 0;
    
    // Calculer la somme des chiffres
    for (let digit of number) {
        sum += parseInt(digit);
    }
    
    // Réduire jusqu'à un seul chiffre
    while (sum > 9) {
        steps.push(sum);
        let newSum = 0;
        sum.toString().split('').forEach(d => {
            newSum += parseInt(d);
        });
        sum = newSum;
    }
    
    // Afficher le résultat avec animation
    result.innerHTML = `
        <div class="cycle-analysis">
            <div class="number-initial">
                <h3>Nombre Initial</h3>
                <span class="value">${input}</span>
            </div>
            ${steps.length > 0 ? `
                <div class="reduction-steps">
                    <h3>Processus de Réduction</h3>
                    <div class="steps">
                        ${input} → ${steps.join(' → ')} → ${sum}
                    </div>
                </div>
            ` : ''}
            <div class="final-number">
                <h3>Nombre Racine</h3>
                <span class="value">${sum}</span>
                <div class="meaning">${getMeaning(sum)}</div>
            </div>
        </div>
    `;
}

function getMeaning(num) {
    const meanings = {
        1: "Nouveau départ, leadership, indépendance",
        2: "Coopération, diplomatie, sensibilité",
        3: "Créativité, expression, joie de vivre",
        4: "Stabilité, organisation, travail",
        5: "Liberté, changement, aventure",
        6: "Harmonie, responsabilité, amour",
        7: "Spiritualité, sagesse, introspection",
        8: "Pouvoir, succès, abondance",
        9: "Humanité, compassion, accomplissement"
    };
    return meanings[num];
}

// Activer le calcul quand on appuie sur Entrée
document.getElementById('cycle-input').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        exploreCycle();
    }
});

// Ajouter les styles pour la cellule active
document.head.insertAdjacentHTML('beforeend', `
    <style>
        .number-cell.active {
            background: rgba(255, 215, 0, 0.2);
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
        }
        
        .number-info {
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(255, 215, 0, 0.05);
            border: 2px solid var(--color-gold);
            border-radius: 12px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s ease;
        }
        
        .number-info:not(:empty) {
            opacity: 1;
            transform: translateY(0);
        }
        
        .number-info h3 {
            color: var(--color-gold);
            margin-bottom: 1rem;
            font-family: 'Cinzel Decorative', cursive;
        }
        
        .number-info p {
            color: var(--color-pearl);
            line-height: 1.6;
        }
    </style>
`);
</script>
{% endblock %} 