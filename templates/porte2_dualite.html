{% extends "base.html" %}

{% block content %}
<div class="portal-page portal-2">
    <header class="portal-header">
        <h1>La Dualité</h1>
        <div class="portal-symbol">
            <i class="fas fa-yin-yang"></i>
            <span class="portal-number">2</span>
        </div>
        <p class="subtitle">Le Deux, principe de polarité et d'équilibre</p>
    </header>

    <div class="portal-content">
        <div class="wisdom-card">
            <h2>L'Enseignement de la Dualité</h2>
            <p>Le Deux représente la première division de l'unité, créant la polarité fondamentale qui anime toute la création. C'est le principe de la dualité : lumière et ombre, masculin et féminin, positif et négatif.</p>
            
            <div class="principles">
                <h3>Principes de la Dualité</h3>
                <ul>
                    <li>Polarité</li>
                    <li>Équilibre</li>
                    <li>Complémentarité</li>
                    <li>Harmonie des Opposés</li>
                </ul>
            </div>
        </div>

        <div class="wisdom-card">
            <h2>La Ligne</h2>
            <div class="sacred-symbol">
                <svg viewBox="0 0 100 20" class="line-symbol">
                    <line x1="10" y1="10" x2="90" y2="10" stroke="var(--gold)" stroke-width="2"/>
                </svg>
            </div>
            <p>La ligne est la manifestation géométrique du Deux. Elle naît lorsque le point se déplace, créant la première dimension et établissant une direction.</p>
        </div>

        <div class="wisdom-card">
            <h2>Méditation sur la Dualité</h2>
            <div class="meditation-section">
                <p>Observez le mouvement naturel entre les opposés, et trouvez le point d'équilibre.</p>
                <div class="meditation-timer">
                    <button id="startMeditation" class="start-meditation">Commencer la Méditation</button>
                    <div id="timer" class="timer-display">15:00</div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
function startMeditation() {
    const timer = document.getElementById('timer');
    const button = document.getElementById('startMeditation');
    let timeLeft = 15 * 60; // 15 minutes
    let interval;

    if (button.textContent === 'Arrêter') {
        clearInterval(interval);
        button.textContent = 'Commencer la Méditation';
        timer.textContent = '15:00';
        return;
    }

    button.textContent = 'Arrêter';
    
    interval = setInterval(() => {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        
        timer.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        
        if (timeLeft <= 0) {
            clearInterval(interval);
            button.textContent = 'Commencer la Méditation';
            // Jouer un son doux de cloche ici
        }
        
        timeLeft--;
    }, 1000);
}

document.getElementById('startMeditation').addEventListener('click', startMeditation);
</script>
{% endblock %} 